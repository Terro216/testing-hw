## Особенности работы с переменными

Лучше всего задавать значение переменной `BUG_ID` в файле .env в корневой директории проекта, она автоматически подтянется в тесты с помощью библиотеки `env-cmd`
(тесты, соответственно, можно просто запускать по командам ниже)

## Как запустить реально

Поставить Node v16.20.1

```sh
# установите зависимости
npm ci

# соберите клиентский код приложения
npm run build

# запустите сервер (просьба запускать сервер из данного проекта, так как я поменял дефолтный порт на 3005)
npm start
```

После этого можете открыть приложение в браузере по адресу http://localhost:3005/hw/store

для тестов

```sh
# запустить все тесты
npm run test

# запустить только unit тесты
npm run test:unit

# запустить только e2e тесты
npm run test:e2e
```

# Домашнее задание: Автотесты

Вам дано приложение — интернет магазин. С его помощью можно смотреть каталог товаров, добавлять товары в корзину и оформлять заказы.

Форкните этот репозиторий и напишите тесты, проверяющие правильность работы продуктовых сценариев. Проверяйте сценарии модульными/интеграционными тестами, на свое усмотрение.

Главный критерий проверки — автотесты должны находить баги. Дополнительный критерий — на каждый баг должно падать небольшое количество тестов (не больше 1-2).

## Функциональные требования

**Общие требования:**

- вёрстка должна адаптироваться под ширину экрана
- в шапке отображаются ссылки на страницы магазина, а также ссылка на корзину
- название магазина в шапке должно быть ссылкой на главную страницу
- на ширине меньше 576px навигационное меню должно скрываться за "гамбургер"
- при выборе элемента из меню "гамбургера", меню должно закрываться

**Страницы:**

- в магазине должны быть страницы: главная, каталог, условия доставки, контакты
- страницы главная, условия доставки, контакты должны иметь статическое содержимое

**Каталог:**

- в каталоге должны отображаться товары, список которых приходит с сервера
- для каждого товара в каталоге отображается название, цена и ссылка на страницу с подробной информацией о товаре
- на странице с подробной информацией отображаются: название товара, его описание, цена, цвет, материал и кнопка "добавить в корзину"
- если товар уже добавлен в корзину, в каталоге и на странице товара должно отображаться сообщение об этом
- если товар уже добавлен в корзину, повторное нажатие кнопки "добавить в корзину" должно увеличивать его количество
- содержимое корзины должно сохраняться между перезагрузками страницы

**Корзина:**

- в шапке рядом со ссылкой на корзину должно отображаться количество не повторяющихся товаров в ней
- в корзине должна отображаться таблица с добавленными в нее товарами
- для каждого товара должны отображаться название, цена, количество , стоимость, а также должна отображаться общая сумма заказа
- в корзине должна быть кнопка "очистить корзину", по нажатию на которую все товары должны удаляться
- если корзина пустая, должна отображаться ссылка на каталог товаров

## Как проверять

Вы можете запускать приложение с параметром `bug id`, который может принимать значение от 1 до 10. Каждое из значений `bug id` добавляет в работу приложения какой-то баг. Проверьте, что без параметра `bug id` все тесты проходят, а для каждого значения `bug id` падают 1-2 теста.

Как передать `bug id`:

задать значение переменной `BUG_ID` в файле .env в корневой директории проекта

## Баги и покрывающие тесты

BUG_ID = 1(у элементов в каталоге(getAllProducts) имена undefined, data.ts): unit
BUG_ID = 2(/api/checkout возвращает id: Date.now() вместо настоящего, routes.ts): unit
BUG_ID = 3(/api/products/:id(\\d+), всегда возвращает id=0, routes.ts): unit
BUG_ID = 4(гамбургер не закрывается при нажатии на ссылку, application.tsx): e2e
BUG_ID = 5(checkoutEpic, store.ts): e2e3
BUG_ID = 6(shoppingCartEpic, store.ts): e2e
BUG_ID = 7(ADD_TO_CART не добавляет в cart, store.ts): unit
BUG_ID = 8(alert-danger у успешного добавления карточки): e2e
BUG_ID = 9(btn-sm у кнопки добавления в корзину на странице заказа, productDetails): unit
BUG_ID = 10(телефон не валиден при заполнении формы, Form.tsx): unit
